<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C:\Users\choi\git\1907-web\1907-web\WebContent\nodejs\begin\node_modules\body-parser\node_modules\qs\.README.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1> <a id="user-content-qs-" class="anchor" href="#qs-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>qs <sup><a href="https://npmjs.org/package/qs" rel="nofollow"><img src="https://camo.githubusercontent.com/ff8d32cd0764ba4be75db775e86d2370cf4b89e5/687474703a2f2f76657273696f6e626164672e65732f6c6a686172622f71732e737667" alt="Version Badge" data-canonical-src="http://versionbadg.es/ljharb/qs.svg" style="max-width:100%;" /></a></sup> </h1> 
<p><a href="https://travis-ci.org/ljharb/qs" rel="nofollow"><img src="https://camo.githubusercontent.com/0a516d0763ffda60d47f9fc301d3c6763fd720a5/68747470733a2f2f6170692e7472617669732d63692e6f72672f6c6a686172622f71732e737667" alt="Build Status" data-canonical-src="https://api.travis-ci.org/ljharb/qs.svg" style="max-width:100%;" /></a> <a href="https://david-dm.org/ljharb/qs" rel="nofollow"><img src="https://camo.githubusercontent.com/756866587163516c3d8226cce9de4975af3e2801/68747470733a2f2f64617669642d646d2e6f72672f6c6a686172622f71732e737667" alt="dependency status" data-canonical-src="https://david-dm.org/ljharb/qs.svg" style="max-width:100%;" /></a> <a href="https://david-dm.org/ljharb/qs?type=dev" rel="nofollow"><img src="https://camo.githubusercontent.com/a30b1f77b68a43886c0580f53b7767d45b1842de/68747470733a2f2f64617669642d646d2e6f72672f6c6a686172622f71732f6465762d7374617475732e737667" alt="dev dependency status" data-canonical-src="https://david-dm.org/ljharb/qs/dev-status.svg" style="max-width:100%;" /></a> <a href=".LICENSE.md.html"><img src="https://camo.githubusercontent.com/87788f5d4442fc6a2f253b85907333a341efa01e/687474703a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f71732e737667" alt="License" data-canonical-src="http://img.shields.io/npm/l/qs.svg" style="max-width:100%;" /></a> <a href="http://npm-stat.com/charts.html?package=qs" rel="nofollow"><img src="https://camo.githubusercontent.com/2fd3021355324d81f4aedf7a4618862295b5c0af/687474703a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f71732e737667" alt="Downloads" data-canonical-src="http://img.shields.io/npm/dm/qs.svg" style="max-width:100%;" /></a></p> 
<p><a href="https://npmjs.org/package/qs" rel="nofollow"><img src="https://camo.githubusercontent.com/0d77021ae48174e95d2a8ca89610fab43cef36e1/68747470733a2f2f6e6f6465692e636f2f6e706d2f71732e706e673f646f776e6c6f6164733d747275652673746172733d74727565" alt="npm badge" data-canonical-src="https://nodei.co/npm/qs.png?downloads=true&amp;stars=true" style="max-width:100%;" /></a></p> 
<p>A querystring parsing and stringifying library with some added security.</p> 
<p>Lead Maintainer: <a href="https://github.com/ljharb">Jordan Harband</a></p> 
<p>The <strong>qs</strong> module was originally created and maintained by <a href="https://github.com/visionmedia/node-querystring">TJ Holowaychuk</a>.</p> 
<h2> <a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> qs <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>qs<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> assert <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>assert<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> obj <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(obj, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> });

<span class="pl-k">var</span> str <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>(obj);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(str, <span class="pl-s"><span class="pl-pds">'</span>a=c<span class="pl-pds">'</span></span>);</pre>
</div> 
<h3> <a id="user-content-parsing-objects" class="anchor" href="#parsing-objects" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parsing Objects</h3> 
<p><a href="#preventEval"></a></p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(string, [options]);</pre>
</div> 
<p><strong>qs</strong> allows you to create nested objects within your query strings, by surrounding the name of sub-keys with square brackets <code>[]</code>. For example, the string <code>'foo[bar]=baz'</code> converts to:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>foo[bar]=baz<span class="pl-pds">'</span></span>), {
    foo<span class="pl-k">:</span> {
        bar<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>baz<span class="pl-pds">'</span></span>
    }
});</pre>
</div> 
<p>When using the <code>plainObjects</code> option the parsed value is returned as a null object, created via <code>Object.create(null)</code> and as such you should be aware that prototype methods will not exist on it and a user may set those names to whatever value they like:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> nullObject <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[hasOwnProperty]=b<span class="pl-pds">'</span></span>, { plainObjects<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(nullObject, { a<span class="pl-k">:</span> { hasOwnProperty<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>By default parameters that would overwrite properties on the object prototype are ignored, if you wish to keep the data from those fields either use <code>plainObjects</code> as mentioned above, or set <code>allowPrototypes</code> to <code>true</code> which will allow user input to overwrite those properties. <em>WARNING</em> It is generally a bad idea to enable this option as it can cause problems when attempting to use the properties that have been overwritten. Always be careful with this option.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> protoObject <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[hasOwnProperty]=b<span class="pl-pds">'</span></span>, { allowPrototypes<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(protoObject, { a<span class="pl-k">:</span> { hasOwnProperty<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>URI encoded strings work too:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a%5Bb%5D=c<span class="pl-pds">'</span></span>), {
    a<span class="pl-k">:</span> { b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> }
});</pre>
</div> 
<p>You can also nest your objects, like <code>'foo[bar][baz]=foobarbaz'</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>foo[bar][baz]=foobarbaz<span class="pl-pds">'</span></span>), {
    foo<span class="pl-k">:</span> {
        bar<span class="pl-k">:</span> {
            baz<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>foobarbaz<span class="pl-pds">'</span></span>
        }
    }
});</pre>
</div> 
<p>By default, when nesting objects <strong>qs</strong> will only parse up to 5 children deep. This means if you attempt to parse a string like <code>'a[b][c][d][e][f][g][h][i]=j'</code> your resulting object will be:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> expected <span class="pl-k">=</span> {
    a<span class="pl-k">:</span> {
        b<span class="pl-k">:</span> {
            c<span class="pl-k">:</span> {
                d<span class="pl-k">:</span> {
                    e<span class="pl-k">:</span> {
                        f<span class="pl-k">:</span> {
                            <span class="pl-s"><span class="pl-pds">'</span>[g][h][i]<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>j<span class="pl-pds">'</span></span>
                        }
                    }
                }
            }
        }
    }
};
<span class="pl-k">var</span> string <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>a[b][c][d][e][f][g][h][i]=j<span class="pl-pds">'</span></span>;
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(string), expected);</pre>
</div> 
<p>This depth can be overridden by passing a <code>depth</code> option to <code>qs.parse(string, [options])</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> deep <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[b][c][d][e][f][g][h][i]=j<span class="pl-pds">'</span></span>, { depth<span class="pl-k">:</span> <span class="pl-c1">1</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(deep, { a<span class="pl-k">:</span> { b<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">'</span>[c][d][e][f][g][h][i]<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>j<span class="pl-pds">'</span></span> } } });</pre>
</div> 
<p>The depth limit helps mitigate abuse when <strong>qs</strong> is used to parse user input, and it is recommended to keep it a reasonably small number.</p> 
<p>For similar reasons, by default <strong>qs</strong> will only parse up to 1000 parameters. This can be overridden by passing a <code>parameterLimit</code> option:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> limited <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=b&amp;c=d<span class="pl-pds">'</span></span>, { parameterLimit<span class="pl-k">:</span> <span class="pl-c1">1</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(limited, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>To bypass the leading question mark, use <code>ignoreQueryPrefix</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> prefixed <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>?a=b&amp;c=d<span class="pl-pds">'</span></span>, { ignoreQueryPrefix<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(prefixed, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>An optional delimiter can also be passed:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> delimited <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=b;c=d<span class="pl-pds">'</span></span>, { delimiter<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>;<span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(delimited, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>Delimiters can be a regular expression too:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> regexed <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=b;c=d,e=f<span class="pl-pds">'</span></span>, { delimiter<span class="pl-k">:</span><span class="pl-sr"> <span class="pl-pds">/</span><span class="pl-c1">[;,]</span><span class="pl-pds">/</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(regexed, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, e<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>Option <code>allowDots</code> can be used to enable dot notation:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withDots <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a.b=c<span class="pl-pds">'</span></span>, { allowDots<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withDots, { a<span class="pl-k">:</span> { b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>If you have to deal with legacy browsers or services, there's also support for decoding percent-encoded octets as iso-8859-1:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> oldCharset <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=%A7<span class="pl-pds">'</span></span>, { charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(oldCharset, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&sect;<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>Some services add an initial <code>utf8=✓</code> value to forms so that old Internet Explorer versions are more likely to submit the form as utf-8. Additionally, the server can check the value against wrong encodings of the checkmark character and detect that a query string or <code>application/x-www-form-urlencoded</code> body was <em>not</em> sent as utf-8, eg. if the form had an <code>accept-charset</code> parameter or the containing page had a different character set.</p> 
<p><strong>qs</strong> supports this mechanism via the <code>charsetSentinel</code> option. If specified, the <code>utf8</code> parameter will be omitted from the returned object. It will be used to switch to <code>iso-8859-1</code>/<code>utf-8</code> mode depending on how the checkmark is encoded.</p> 
<p><strong>Important</strong>: When you specify both the <code>charset</code> option and the <code>charsetSentinel</code> option, the <code>charset</code> will be overridden when the request contains a <code>utf8</code> parameter from which the actual charset can be deduced. In that sense the <code>charset</code> will behave as the default charset rather than the authoritative charset.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> detectedAsUtf8 <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>utf8=%E2%9C%93&amp;a=%C3%B8<span class="pl-pds">'</span></span>, {
    charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span>,
    charsetSentinel<span class="pl-k">:</span> <span class="pl-c1">true</span>
});
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(detectedAsUtf8, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&oslash;<span class="pl-pds">'</span></span> });

<span class="pl-c"><span class="pl-c">//</span> Browsers encode the checkmark as &amp;#10003; when submitting as iso-8859-1:</span>
<span class="pl-k">var</span> detectedAsIso8859_1 <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>utf8=%26%2310003%3B&amp;a=%F8<span class="pl-pds">'</span></span>, {
    charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>utf-8<span class="pl-pds">'</span></span>,
    charsetSentinel<span class="pl-k">:</span> <span class="pl-c1">true</span>
});
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(detectedAsIso8859_1, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&oslash;<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>If you want to decode the <code>&amp;#...;</code> syntax to the actual character, you can specify the <code>interpretNumericEntities</code> option as well:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> detectedAsIso8859_1 <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=%26%239786%3B<span class="pl-pds">'</span></span>, {
    charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span>,
    interpretNumericEntities<span class="pl-k">:</span> <span class="pl-c1">true</span>
});
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(detectedAsIso8859_1, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>☺<span class="pl-pds">'</span></span> });</pre>
</div> 
<p>It also works when the charset has been detected in <code>charsetSentinel</code> mode.</p> 
<h3> <a id="user-content-parsing-arrays" class="anchor" href="#parsing-arrays" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parsing Arrays</h3> 
<p><strong>qs</strong> can also parse arrays using a similar <code>[]</code> notation:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withArray <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[]=b&amp;a[]=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withArray, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] });</pre>
</div> 
<p>You may specify an index as well:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withIndexes <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[1]=c&amp;a[0]=b<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withIndexes, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] });</pre>
</div> 
<p>Note that the only difference between an index in an array and a key in an object is that the value between the brackets must be a number to create an array. When creating arrays with specific indices, <strong>qs</strong> will compact a sparse array to only the existing values preserving their order:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> noSparse <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[1]=b&amp;a[15]=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(noSparse, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] });</pre>
</div> 
<p>Note that an empty string is also a value, and will be preserved:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withEmptyString <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[]=&amp;a[]=b<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withEmptyString, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>] });

<span class="pl-k">var</span> withIndexedEmptyString <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[0]=b&amp;a[1]=&amp;a[2]=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withIndexedEmptyString, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] });</pre>
</div> 
<p><strong>qs</strong> will also limit specifying indices in an array to a maximum index of <code>20</code>. Any array members with an index of greater than <code>20</code> will instead be converted to an object with the index as the key. This is needed to handle cases when someone sent, for example, <code>a[999999999]</code> and it will take significant time to iterate over this huge array.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withMaxIndex <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[100]=b<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withMaxIndex, { a<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">'</span>100<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>This limit can be overridden by passing an <code>arrayLimit</code> option:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withArrayLimit <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[1]=b<span class="pl-pds">'</span></span>, { arrayLimit<span class="pl-k">:</span> <span class="pl-c1">0</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(withArrayLimit, { a<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">'</span>1<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>To disable array parsing entirely, set <code>parseArrays</code> to <code>false</code>.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> noParsingArrays <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[]=b<span class="pl-pds">'</span></span>, { parseArrays<span class="pl-k">:</span> <span class="pl-c1">false</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(noParsingArrays, { a<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>If you mix notations, <strong>qs</strong> will merge the two items into an object:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> mixedNotation <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[0]=b&amp;a[b]=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(mixedNotation, { a<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> } });</pre>
</div> 
<p>You can also create arrays of objects:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> arraysOfObjects <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a[][b]=c<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(arraysOfObjects, { a<span class="pl-k">:</span> [{ b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> }] });</pre>
</div> 
<p>Some people use comma to join array, <strong>qs</strong> can parse it:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> arraysOfObjects <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=b,c<span class="pl-pds">'</span></span>, { comma<span class="pl-k">:</span> <span class="pl-c1">true</span> })
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(arraysOfObjects, { a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] })</pre>
</div> 
<p>(<em>this cannot convert nested objects, such as <code>a={b:1},{c:d}</code></em>)</p> 
<h3> <a id="user-content-stringifying" class="anchor" href="#stringifying" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Stringifying</h3> 
<p><a href="#preventEval"></a></p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>(object, [options]);</pre>
</div> 
<p>When stringifying, <strong>qs</strong> by default URI encodes output. Objects are stringified as you would expect:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> }), <span class="pl-s"><span class="pl-pds">'</span>a=b<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> } }), <span class="pl-s"><span class="pl-pds">'</span>a%5Bb%5D=c<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>This encoding can be disabled by setting the <code>encode</code> option to <code>false</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> unencoded <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> } }, { encode<span class="pl-k">:</span> <span class="pl-c1">false</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(unencoded, <span class="pl-s"><span class="pl-pds">'</span>a[b]=c<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Encoding can be disabled for keys by setting the <code>encodeValuesOnly</code> option to <code>true</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> encodedValues <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>(
    { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>e=f<span class="pl-pds">'</span></span>], f<span class="pl-k">:</span> [[<span class="pl-s"><span class="pl-pds">'</span>g<span class="pl-pds">'</span></span>], [<span class="pl-s"><span class="pl-pds">'</span>h<span class="pl-pds">'</span></span>]] },
    { encodeValuesOnly<span class="pl-k">:</span> <span class="pl-c1">true</span> }
);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(encodedValues,<span class="pl-s"><span class="pl-pds">'</span>a=b&amp;c[0]=d&amp;c[1]=e%3Df&amp;f[0][0]=g&amp;f[1][0]=h<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>This encoding can also be replaced by a custom encoding method set as <code>encoder</code> option:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> encoded <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> } }, { <span class="pl-en">encoder</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">str</span>) {
    <span class="pl-c"><span class="pl-c">//</span> Passed in values `a`, `b`, `c`</span>
    <span class="pl-k">return</span> <span class="pl-c"><span class="pl-c">//</span> Return encoded string</span>
}})</pre>
</div> 
<p><em>(Note: the <code>encoder</code> option does not apply if <code>encode</code> is <code>false</code>)</em></p> 
<p>Analogue to the <code>encoder</code> there is a <code>decoder</code> option for <code>parse</code> to override decoding of properties and values:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> decoded <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>x=z<span class="pl-pds">'</span></span>, { <span class="pl-en">decoder</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">str</span>) {
    <span class="pl-c"><span class="pl-c">//</span> Passed in values `x`, `z`</span>
    <span class="pl-k">return</span> <span class="pl-c"><span class="pl-c">//</span> Return decoded string</span>
}})</pre>
</div> 
<p>Examples beyond this point will be shown as though the output is not URI encoded for clarity. Please note that the return values in these cases <em>will</em> be URI encoded during real usage.</p> 
<p>When arrays are stringified, by default they are given explicit indices:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>] });
<span class="pl-c"><span class="pl-c">//</span> 'a[0]=b&amp;a[1]=c&amp;a[2]=d'</span></pre>
</div> 
<p>You may override this by setting the <code>indices</code> option to <code>false</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>] }, { indices<span class="pl-k">:</span> <span class="pl-c1">false</span> });
<span class="pl-c"><span class="pl-c">//</span> 'a=b&amp;a=c&amp;a=d'</span></pre>
</div> 
<p>You may use the <code>arrayFormat</code> option to specify the format of the output array:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] }, { arrayFormat<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>indices<span class="pl-pds">'</span></span> })
<span class="pl-c"><span class="pl-c">//</span> 'a[0]=b&amp;a[1]=c'</span>
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] }, { arrayFormat<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>brackets<span class="pl-pds">'</span></span> })
<span class="pl-c"><span class="pl-c">//</span> 'a[]=b&amp;a[]=c'</span>
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] }, { arrayFormat<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>repeat<span class="pl-pds">'</span></span> })
<span class="pl-c"><span class="pl-c">//</span> 'a=b&amp;a=c'</span>
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>] }, { arrayFormat<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>comma<span class="pl-pds">'</span></span> })
<span class="pl-c"><span class="pl-c">//</span> 'a=b,c'</span></pre>
</div> 
<p>When objects are stringified, by default they use bracket notation:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> { c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, e<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> } } });
<span class="pl-c"><span class="pl-c">//</span> 'a[b][c]=d&amp;a[b][e]=f'</span></pre>
</div> 
<p>You may override this to use dot notation by setting the <code>allowDots</code> option to <code>true</code>:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> { c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, e<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> } } }, { allowDots<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-c"><span class="pl-c">//</span> 'a.b.c=d&amp;a.b.e=f'</span></pre>
</div> 
<p>Empty strings and null values will omit the value, but the equals sign (=) remains in place:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> }), <span class="pl-s"><span class="pl-pds">'</span>a=<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Key with no values (such as an empty object or array) will return nothing:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [] }), <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> {} }), <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [{}] }), <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> []} }), <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> { b<span class="pl-k">:</span> {}} }), <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Properties that are set to <code>undefined</code> will be omitted entirely:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-c1">null</span>, b<span class="pl-k">:</span> <span class="pl-c1">undefined</span> }), <span class="pl-s"><span class="pl-pds">'</span>a=<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>The query string may optionally be prepended with a question mark:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span> }, { addQueryPrefix<span class="pl-k">:</span> <span class="pl-c1">true</span> }), <span class="pl-s"><span class="pl-pds">'</span>?a=b&amp;c=d<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>The delimiter may be overridden with stringify as well:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span> }, { delimiter<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>;<span class="pl-pds">'</span></span> }), <span class="pl-s"><span class="pl-pds">'</span>a=b;c=d<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>If you only want to override the serialization of <code>Date</code> objects, you can provide a <code>serializeDate</code> option:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> date <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-c1">7</span>);
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> date }), <span class="pl-s"><span class="pl-pds">'</span>a=1970-01-01T00:00:00.007Z<span class="pl-pds">'</span></span>.<span class="pl-c1">replace</span>(<span class="pl-sr"><span class="pl-pds">/</span>:<span class="pl-pds">/</span>g</span>, <span class="pl-s"><span class="pl-pds">'</span>%3A<span class="pl-pds">'</span></span>));
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(
    <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> date }, { <span class="pl-en">serializeDate</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">d</span>) { <span class="pl-k">return</span> <span class="pl-smi">d</span>.<span class="pl-c1">getTime</span>(); } }),
    <span class="pl-s"><span class="pl-pds">'</span>a=7<span class="pl-pds">'</span></span>
);</pre>
</div> 
<p>You may use the <code>sort</code> option to affect the order of parameter keys:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">function</span> <span class="pl-en">alphabeticalSort</span>(<span class="pl-smi">a</span>, <span class="pl-smi">b</span>) {
    <span class="pl-k">return</span> <span class="pl-smi">a</span>.<span class="pl-en">localeCompare</span>(b);
}
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>, z<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>y<span class="pl-pds">'</span></span>, b <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> }, { sort<span class="pl-k">:</span> alphabeticalSort }), <span class="pl-s"><span class="pl-pds">'</span>a=c&amp;b=f&amp;z=y<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Finally, you can use the <code>filter</code> option to restrict which keys will be included in the stringified output. If you pass a function, it will be called for each key to obtain the replacement value. Otherwise, if you pass an array, it will be used to select properties and array indices for stringification:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">function</span> <span class="pl-en">filterFunc</span>(<span class="pl-smi">prefix</span>, <span class="pl-smi">value</span>) {
    <span class="pl-k">if</span> (prefix <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-c">//</span> Return an `undefined` value to omit a property.</span>
        <span class="pl-k">return</span>;
    }
    <span class="pl-k">if</span> (prefix <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>e[f]<span class="pl-pds">'</span></span>) {
        <span class="pl-k">return</span> <span class="pl-smi">value</span>.<span class="pl-c1">getTime</span>();
    }
    <span class="pl-k">if</span> (prefix <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>e[g][0]<span class="pl-pds">'</span></span>) {
        <span class="pl-k">return</span> value <span class="pl-k">*</span> <span class="pl-c1">2</span>;
    }
    <span class="pl-k">return</span> value;
}
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, e<span class="pl-k">:</span> { f<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-c1">123</span>), g<span class="pl-k">:</span> [<span class="pl-c1">2</span>] } }, { filter<span class="pl-k">:</span> filterFunc });
<span class="pl-c"><span class="pl-c">//</span> 'a=b&amp;c=d&amp;e[f]=123&amp;e[g][0]=4'</span>
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>, e<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> }, { filter<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>e<span class="pl-pds">'</span></span>] });
<span class="pl-c"><span class="pl-c">//</span> 'a=b&amp;e=f'</span>
<span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>], e<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>f<span class="pl-pds">'</span></span> }, { filter<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-c1">0</span>, <span class="pl-c1">2</span>] });
<span class="pl-c"><span class="pl-c">//</span> 'a[0]=b&amp;a[2]=d'</span></pre>
</div> 
<h3> <a id="user-content-handling-of-null-values" class="anchor" href="#handling-of-null-values" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Handling of <code>null</code> values</h3> 
<p>By default, <code>null</code> values are treated like empty strings:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> withNull <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-c1">null</span>, b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(withNull, <span class="pl-s"><span class="pl-pds">'</span>a=&amp;b=<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Parsing does not distinguish between parameters with and without equal signs. Both are converted to empty strings.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> equalsInsensitive <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a&amp;b=<span class="pl-pds">'</span></span>);
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(equalsInsensitive, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> });</pre>
</div> 
<p>To distinguish between <code>null</code> values and empty strings use the <code>strictNullHandling</code> flag. In the result string the <code>null</code> values have no <code>=</code> sign:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> strictNull <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-c1">null</span>, b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> }, { strictNullHandling<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(strictNull, <span class="pl-s"><span class="pl-pds">'</span>a&amp;b=<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>To parse values without <code>=</code> back to <code>null</code> use the <code>strictNullHandling</code> flag:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> parsedStrictNull <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a&amp;b=<span class="pl-pds">'</span></span>, { strictNullHandling<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(parsedStrictNull, { a<span class="pl-k">:</span> <span class="pl-c1">null</span>, b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> });</pre>
</div> 
<p>To completely skip rendering keys with <code>null</code> values, use the <code>skipNulls</code> flag:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> nullsSkipped <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, c<span class="pl-k">:</span> <span class="pl-c1">null</span>}, { skipNulls<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(nullsSkipped, <span class="pl-s"><span class="pl-pds">'</span>a=b<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>If you're communicating with legacy systems, you can switch to <code>iso-8859-1</code> using the <code>charset</code> option:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> iso <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ &aelig;<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&aelig;<span class="pl-pds">'</span></span> }, { charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(iso, <span class="pl-s"><span class="pl-pds">'</span>%E6=%E6<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>Characters that don't exist in <code>iso-8859-1</code> will be converted to numeric entities, similar to what browsers do:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> numeric <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>☺<span class="pl-pds">'</span></span> }, { charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(numeric, <span class="pl-s"><span class="pl-pds">'</span>a=%26%239786%3B<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>You can use the <code>charsetSentinel</code> option to announce the character by including an <code>utf8=✓</code> parameter with the proper encoding if the checkmark, similar to what Ruby on Rails and others do when submitting forms.</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> sentinel <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>☺<span class="pl-pds">'</span></span> }, { charsetSentinel<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(sentinel, <span class="pl-s"><span class="pl-pds">'</span>utf8=%E2%9C%93&amp;a=%E2%98%BA<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> isoSentinel <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&aelig;<span class="pl-pds">'</span></span> }, { charsetSentinel<span class="pl-k">:</span> <span class="pl-c1">true</span>, charset<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>iso-8859-1<span class="pl-pds">'</span></span> });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(isoSentinel, <span class="pl-s"><span class="pl-pds">'</span>utf8=%26%2310003%3B&amp;a=%E6<span class="pl-pds">'</span></span>);</pre>
</div> 
<h3> <a id="user-content-dealing-with-special-character-sets" class="anchor" href="#dealing-with-special-character-sets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dealing with special character sets</h3> 
<p>By default the encoding and decoding of characters is done in <code>utf-8</code>, and <code>iso-8859-1</code> support is also built in via the <code>charset</code> parameter.</p> 
<p>If you wish to encode querystrings to a different character set (i.e. <a href="https://en.wikipedia.org/wiki/Shift_JIS" rel="nofollow">Shift JIS</a>) you can use the <a href="https://github.com/martinheidegger/qs-iconv"><code>qs-iconv</code></a> library:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> encoder <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>qs-iconv/encoder<span class="pl-pds">'</span></span>)(<span class="pl-s"><span class="pl-pds">'</span>shift_jis<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> shiftJISEncoded <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">stringify</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>こんにちは！<span class="pl-pds">'</span></span> }, { encoder<span class="pl-k">:</span> encoder });
<span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(shiftJISEncoded, <span class="pl-s"><span class="pl-pds">'</span>a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I<span class="pl-pds">'</span></span>);</pre>
</div> 
<p>This also works for decoding of query strings:</p> 
<div class="highlight highlight-source-js">
 <pre><span class="pl-k">var</span> decoder <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>qs-iconv/decoder<span class="pl-pds">'</span></span>)(<span class="pl-s"><span class="pl-pds">'</span>shift_jis<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> obj <span class="pl-k">=</span> <span class="pl-smi">qs</span>.<span class="pl-c1">parse</span>(<span class="pl-s"><span class="pl-pds">'</span>a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I<span class="pl-pds">'</span></span>, { decoder<span class="pl-k">:</span> decoder });
<span class="pl-smi">assert</span>.<span class="pl-en">deepEqual</span>(obj, { a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>こんにちは！<span class="pl-pds">'</span></span> });</pre>
</div> 
<h3> <a id="user-content-rfc-3986-and-rfc-1738-space-encoding" class="anchor" href="#rfc-3986-and-rfc-1738-space-encoding" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RFC 3986 and RFC 1738 space encoding</h3> 
<p>RFC3986 used as default option and encodes ' ' to <em>%20</em> which is backward compatible. In the same time, output can be stringified as per RFC1738 with ' ' equal to '+'.</p> 
<pre><code>assert.equal(qs.stringify({ a: 'b c' }), 'a=b%20c');
assert.equal(qs.stringify({ a: 'b c' }, { format : 'RFC3986' }), 'a=b%20c');
assert.equal(qs.stringify({ a: 'b c' }, { format : 'RFC1738' }), 'a=b+c');
</code></pre>
</body>
</html>
